function t(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},e={},o=n.parcelRequire6af4;null==o&&((o=function(t){if(t in r)return r[t].exports;if(t in e){var n=e[t];delete e[t];var o={id:t,exports:{}};return r[t]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,n){e[t]=n},n.parcelRequire6af4=o),o.register("cmoHh",(function(t,n){!function(t,n,r){function e(t){var n=this,r=function(){var t=4022871197,n=function(n){n=String(n);for(var r=0;r<n.length;r++){var e=.02519603282416938*(t+=n.charCodeAt(r));e-=t=e>>>0,t=(e*=t)>>>0,t+=4294967296*(e-=t)}return 2.3283064365386963e-10*(t>>>0)};return n}();n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function o(t,n){return n.c=t.c,n.s0=t.s0,n.s1=t.s1,n.s2=t.s2,n}function i(t,n){var r=new e(t),i=n&&n.state,u=r.next;return u.int32=function(){return 4294967296*r.next()|0},u.double=function(){return u()+11102230246251565e-32*(2097152*u()|0)},u.quick=u,i&&("object"==typeof i&&o(i,r),u.state=function(){return o(r,{})}),u}n&&n.exports?n.exports=i:r&&r.amd?r((function(){return i})):this.alea=i}(0,t,"function"==typeof define&&define)})),o.register("euRi5",(function(t,n){!function(t,n,r){function e(t){var n=this,r="";n.x=0,n.y=0,n.z=0,n.w=0,n.next=function(){var t=n.x^n.x<<11;return n.x=n.y,n.y=n.z,n.z=n.w,n.w^=n.w>>>19^t^t>>>8},t===(0|t)?n.x=t:r+=t;for(var e=0;e<r.length+64;e++)n.x^=0|r.charCodeAt(e),n.next()}function o(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n}function i(t,n){var r=new e(t),i=n&&n.state,u=function(){return(r.next()>>>0)/4294967296};return u.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/2097152}while(0===t);return t},u.int32=r.next,u.quick=u,i&&("object"==typeof i&&o(i,r),u.state=function(){return o(r,{})}),u}n&&n.exports?n.exports=i:r&&r.amd?r((function(){return i})):this.xor128=i}(0,t,"function"==typeof define&&define)})),o.register("hDsEw",(function(t,n){!function(t,n,r){function e(t){var n=this,r="";n.next=function(){var t=n.x^n.x>>>2;return n.x=n.y,n.y=n.z,n.z=n.w,n.w=n.v,(n.d=n.d+362437|0)+(n.v=n.v^n.v<<4^t^t<<1)|0},n.x=0,n.y=0,n.z=0,n.w=0,n.v=0,t===(0|t)?n.x=t:r+=t;for(var e=0;e<r.length+64;e++)n.x^=0|r.charCodeAt(e),e==r.length&&(n.d=n.x<<10^n.x>>>4),n.next()}function o(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n.v=t.v,n.d=t.d,n}function i(t,n){var r=new e(t),i=n&&n.state,u=function(){return(r.next()>>>0)/4294967296};return u.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/2097152}while(0===t);return t},u.int32=r.next,u.quick=u,i&&("object"==typeof i&&o(i,r),u.state=function(){return o(r,{})}),u}n&&n.exports?n.exports=i:r&&r.amd?r((function(){return i})):this.xorwow=i}(0,t,"function"==typeof define&&define)})),o.register("3J2Zm",(function(t,n){!function(t,n,r){function e(t){var n=this;n.next=function(){var t,r,e=n.x,o=n.i;return t=e[o],r=(t^=t>>>7)^t<<24,r^=(t=e[o+1&7])^t>>>10,r^=(t=e[o+3&7])^t>>>3,r^=(t=e[o+4&7])^t<<7,t=e[o+7&7],r^=(t^=t<<13)^t<<9,e[o]=r,n.i=o+1&7,r},function(t,n){var r,e=[];if(n===(0|n))e[0]=n;else for(n=""+n,r=0;r<n.length;++r)e[7&r]=e[7&r]<<15^n.charCodeAt(r)+e[r+1&7]<<13;for(;e.length<8;)e.push(0);for(r=0;r<8&&0===e[r];++r);for(8==r?e[7]=-1:e[r],t.x=e,t.i=0,r=256;r>0;--r)t.next()}(n,t)}function o(t,n){return n.x=t.x.slice(),n.i=t.i,n}function i(t,n){null==t&&(t=+new Date);var r=new e(t),i=n&&n.state,u=function(){return(r.next()>>>0)/4294967296};return u.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/2097152}while(0===t);return t},u.int32=r.next,u.quick=u,i&&(i.x&&o(i,r),u.state=function(){return o(r,{})}),u}n&&n.exports?n.exports=i:r&&r.amd?r((function(){return i})):this.xorshift7=i}(0,t,"function"==typeof define&&define)})),o.register("6Px8M",(function(t,n){!function(t,n,r){function e(t){var n=this;n.next=function(){var t,r,e=n.w,o=n.X,i=n.i;return n.w=e=e+1640531527|0,r=o[i+34&127],t=o[i=i+1&127],r^=r<<13,t^=t<<17,r^=r>>>15,t^=t>>>12,r=o[i]=r^t,n.i=i,r+(e^e>>>16)|0},function(t,n){var r,e,o,i,u,s=[],c=128;for(n===(0|n)?(e=n,n=null):(n+="\0",e=0,c=Math.max(c,n.length)),o=0,i=-32;i<c;++i)n&&(e^=n.charCodeAt((i+32)%n.length)),0===i&&(u=e),e^=e<<10,e^=e>>>15,e^=e<<4,e^=e>>>13,i>=0&&(u=u+1640531527|0,o=0==(r=s[127&i]^=e+u)?o+1:0);for(o>=128&&(s[127&(n&&n.length||0)]=-1),o=127,i=512;i>0;--i)e=s[o+34&127],r=s[o=o+1&127],e^=e<<13,r^=r<<17,e^=e>>>15,r^=r>>>12,s[o]=e^r;t.w=u,t.X=s,t.i=o}(n,t)}function o(t,n){return n.i=t.i,n.w=t.w,n.X=t.X.slice(),n}function i(t,n){null==t&&(t=+new Date);var r=new e(t),i=n&&n.state,u=function(){return(r.next()>>>0)/4294967296};return u.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/2097152}while(0===t);return t},u.int32=r.next,u.quick=u,i&&(i.X&&o(i,r),u.state=function(){return o(r,{})}),u}n&&n.exports?n.exports=i:r&&r.amd?r((function(){return i})):this.xor4096=i}(0,t,"function"==typeof define&&define)})),o.register("lDm0S",(function(t,n){!function(t,n,r){function e(t){var n=this,r="";n.next=function(){var t=n.b,r=n.c,e=n.d,o=n.a;return t=t<<25^t>>>7^r,r=r-e|0,e=e<<24^e>>>8^o,o=o-t|0,n.b=t=t<<20^t>>>12^r,n.c=r=r-e|0,n.d=e<<16^r>>>16^o,n.a=o-t|0},n.a=0,n.b=0,n.c=-1640531527,n.d=1367130551,t===Math.floor(t)?(n.a=t/4294967296|0,n.b=0|t):r+=t;for(var e=0;e<r.length+20;e++)n.b^=0|r.charCodeAt(e),n.next()}function o(t,n){return n.a=t.a,n.b=t.b,n.c=t.c,n.d=t.d,n}function i(t,n){var r=new e(t),i=n&&n.state,u=function(){return(r.next()>>>0)/4294967296};return u.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/2097152}while(0===t);return t},u.int32=r.next,u.quick=u,i&&("object"==typeof i&&o(i,r),u.state=function(){return o(r,{})}),u}n&&n.exports?n.exports=i:r&&r.amd?r((function(){return i})):this.tychei=i}(0,t,"function"==typeof define&&define)})),o.register("kjyEk",(function(t,n){}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},i(t,n)};function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function s(t,n,r,e){return new(r||(r=Promise))((function(o,i){function u(t){try{c(e.next(t))}catch(t){i(t)}}function s(t){try{c(e.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof r?n:new r((function(t){t(n)}))).then(u,s)}c((e=e.apply(t,n||[])).next())}))}function c(t,n){var r,e,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,e&&(o=2&i[0]?e.return:i[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,i[1])).done)return o;switch(e=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,e=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=n.call(t,u)}catch(t){i=[6,t],e=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}Object.create;function a(t){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&t[n],e=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(t,n){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var e,o,i=r.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(e=i.next()).done;)u.push(e.value)}catch(t){o={error:t}}finally{try{e&&!e.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u}function l(t,n){for(var r=0,e=n.length,o=t.length;r<e;r++,o++)t[o]=n[r];return t}function h(t){return this instanceof h?(this.v=t,this):new h(t)}function d(t,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,o=r.apply(t,n||[]),i=[];return e={},u("next"),u("throw"),u("return"),e[Symbol.asyncIterator]=function(){return this},e;function u(t){o[t]&&(e[t]=function(n){return new Promise((function(r,e){i.push([t,n,r,e])>1||s(t,n)}))})}function s(t,n){try{(r=o[t](n)).value instanceof h?Promise.resolve(r.value.v).then(c,a):f(i[0][2],r)}catch(t){f(i[0][3],t)}var r}function c(t){s("next",t)}function a(t){s("throw",t)}function f(t,n){t(n),i.shift(),i.length&&s(i[0][0],i[0][1])}}function p(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=t[Symbol.asyncIterator];return r?r.call(t):(t=a(t),n={},e("next"),e("throw"),e("return"),n[Symbol.asyncIterator]=function(){return this},n);function e(r){n[r]=t[r]&&function(n){return new Promise((function(e,o){(function(t,n,r,e){Promise.resolve(e).then((function(n){t({value:n,done:r})}),n)})(e,o,(n=t[r](n)).done,n.value)}))}}}Object.create;function v(t){return"function"==typeof t}function y(t){var n=t((function(t){Error.call(t),t.stack=(new Error).stack}));return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var b=y((function(t){return function(n){t(this),this.message=n?n.length+" errors occurred during unsubscription:\n"+n.map((function(t,n){return n+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=n}}));function x(t,n){if(t){var r=t.indexOf(n);0<=r&&t.splice(r,1)}}var w=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}var n;return t.prototype.unsubscribe=function(){var t,n,r,e,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var u=a(i),s=u.next();!s.done;s=u.next()){s.value.remove(this)}}catch(n){t={error:n}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}else i.remove(this);var c=this.initialTeardown;if(v(c))try{c()}catch(t){o=t instanceof b?t.errors:[t]}var h=this._teardowns;if(h){this._teardowns=null;try{for(var d=a(h),p=d.next();!p.done;p=d.next()){var y=p.value;try{_(y)}catch(t){o=null!=o?o:[],t instanceof b?o=l(l([],f(o)),f(t.errors)):o.push(t)}}}catch(t){r={error:t}}finally{try{p&&!p.done&&(e=d.return)&&e.call(d)}finally{if(r)throw r.error}}}if(o)throw new b(o)}},t.prototype.add=function(n){var r;if(n&&n!==this)if(this.closed)_(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(r=this._teardowns)&&void 0!==r?r:[]).push(n)}},t.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},t.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},t.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&x(n,t)},t.prototype.remove=function(n){var r=this._teardowns;r&&x(r,n),n instanceof t&&n._removeParent(this)},t.EMPTY=((n=new t).closed=!0,n),t}(),m=w.EMPTY;function g(t){return t instanceof w||t&&"closed"in t&&v(t.remove)&&v(t.add)&&v(t.unsubscribe)}function _(t){v(t)?t():t.unsubscribe()}var S={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},E={setTimeout:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=E.delegate;return((null==r?void 0:r.setTimeout)||setTimeout).apply(void 0,l([],f(t)))},clearTimeout:function(t){var n=E.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function P(t){E.setTimeout((function(){var n=S.onUnhandledError;if(!n)throw t;n(t)}))}function T(){}var k=I("C",void 0,void 0);function M(t){return I("N",t,void 0)}function I(t,n,r){return{kind:t,value:n,error:r}}var O=null;function j(t){if(S.useDeprecatedSynchronousErrorHandling){var n=!O;if(n&&(O={errorThrown:!1,error:null}),t(),n){var r=O,e=r.errorThrown,o=r.error;if(O=null,e)throw o}}else t()}function A(t){S.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=t)}var C=function(t){function n(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,g(n)&&n.add(r)):r.destination=N,r}return u(n,t),n.create=function(t,n,r){return new D(t,n,r)},n.prototype.next=function(t){this.isStopped?z(M(t),this):this._next(t)},n.prototype.error=function(t){this.isStopped?z(I("E",void 0,t),this):(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped?z(k,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(w),D=function(t){function n(n,r,e){var o,i=t.call(this)||this;if(v(n))o=n;else if(n){var u;o=n.next,r=n.error,e=n.complete,i&&S.useDeprecatedNextContext?(u=Object.create(n)).unsubscribe=function(){return i.unsubscribe()}:u=n,o=null==o?void 0:o.bind(u),r=null==r?void 0:r.bind(u),e=null==e?void 0:e.bind(u)}return i.destination={next:o?L(o,i):T,error:L(null!=r?r:q,i),complete:e?L(e,i):T},i}return u(n,t),n}(C);function L(t,n){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{t.apply(void 0,l([],f(n)))}catch(t){S.useDeprecatedSynchronousErrorHandling?A(t):P(t)}}}function q(t){throw t}function z(t,n){var r=S.onStoppedNotification;r&&E.setTimeout((function(){return r(t,n)}))}var N={closed:!0,next:T,error:q,complete:T},H="function"==typeof Symbol&&Symbol.observable||"@@observable";function R(t){return t}function U(t){return 0===t.length?R:1===t.length?t[0]:function(n){return t.reduce((function(t,n){return n(t)}),n)}}var $=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(n){var r=new t;return r.source=this,r.operator=n,r},t.prototype.subscribe=function(t,n,r){var e,o=this,i=(e=t)&&e instanceof C||function(t){return t&&v(t.next)&&v(t.error)&&v(t.complete)}(e)&&g(e)?t:new D(t,n,r);return j((function(){var t=o,n=t.operator,r=t.source;i.add(n?n.call(i,r):r?o._subscribe(i):o._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},t.prototype.forEach=function(t,n){var r=this;return new(n=F(n))((function(n,e){var o;o=r.subscribe((function(n){try{t(n)}catch(t){e(t),null==o||o.unsubscribe()}}),e,n)}))},t.prototype._subscribe=function(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)},t.prototype[H]=function(){return this},t.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return U(t)(this)},t.prototype.toPromise=function(t){var n=this;return new(t=F(t))((function(t,r){var e;n.subscribe((function(t){return e=t}),(function(t){return r(t)}),(function(){return t(e)}))}))},t.create=function(n){return new t(n)},t}();function F(t){var n;return null!==(n=null!=t?t:S.Promise)&&void 0!==n?n:Promise}var B=y((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Y=function(t){function n(){var n=t.call(this)||this;return n.closed=!1,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return u(n,t),n.prototype.lift=function(t){var n=new X(this,this);return n.operator=t,n},n.prototype._throwIfClosed=function(){if(this.closed)throw new B},n.prototype.next=function(t){var n=this;j((function(){var r,e;if(n._throwIfClosed(),!n.isStopped){var o=n.observers.slice();try{for(var i=a(o),u=i.next();!u.done;u=i.next()){u.value.next(t)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}}}))},n.prototype.error=function(t){var n=this;j((function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var r=n.observers;r.length;)r.shift().error(t)}}))},n.prototype.complete=function(){var t=this;j((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}}))},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},n.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},n.prototype._innerSubscribe=function(t){var n=this,r=n.hasError,e=n.isStopped,o=n.observers;return r||e?m:(o.push(t),new w((function(){return x(o,t)})))},n.prototype._checkFinalizedStatuses=function(t){var n=this,r=n.hasError,e=n.thrownError,o=n.isStopped;r?t.error(e):o&&t.complete()},n.prototype.asObservable=function(){var t=new $;return t.source=this,t},n.create=function(t,n){return new X(t,n)},n}($),X=function(t){function n(n,r){var e=t.call(this)||this;return e.destination=n,e.source=r,e}return u(n,t),n.prototype.next=function(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)},n.prototype.error=function(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)},n.prototype.complete=function(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)},n.prototype._subscribe=function(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:m},n}(Y),G=function(t){function n(n){var r=t.call(this)||this;return r._value=n,r}return u(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},n.prototype.getValue=function(){var t=this,n=t.hasError,r=t.thrownError,e=t._value;if(n)throw r;return this._throwIfClosed(),e},n.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},n}(Y);function V(t){return function(n){if(function(t){return v(null==t?void 0:t.lift)}(n))return n.lift((function(n){try{return t(n,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var J=function(t){function n(n,r,e,o,i){var u=t.call(this,n)||this;return u.onFinalize=i,u._next=r?function(t){try{r(t)}catch(t){n.error(t)}}:t.prototype._next,u._error=o?function(t){try{o(t)}catch(t){n.error(t)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=e?function(){try{e()}catch(t){n.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,u}return u(n,t),n.prototype.unsubscribe=function(){var n,r=this.closed;t.prototype.unsubscribe.call(this),!r&&(null===(n=this.onFinalize)||void 0===n||n.call(this))},n}(C);function W(t,n){return V((function(r,e){var o=0;r.subscribe(new J(e,(function(r){return t.call(n,r,o++)&&e.next(r)})))}))}var Z=Array.isArray,K=Object.getPrototypeOf,Q=Object.prototype,tt=Object.keys;function nt(t){if(1===t.length){var n=t[0];if(Z(n))return{args:n,keys:null};if((e=n)&&"object"==typeof e&&K(e)===Q){var r=tt(n);return{args:r.map((function(t){return n[t]})),keys:r}}}var e;return{args:t,keys:null}}var rt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function et(t){return v(null==t?void 0:t.then)}function ot(t){return v(t[H])}function it(t){return Symbol.asyncIterator&&v(null==t?void 0:t[Symbol.asyncIterator])}function ut(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var st="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function ct(t){return v(null==t?void 0:t[st])}function at(t){return d(this,arguments,(function(){var n,r,e;return c(this,(function(o){switch(o.label){case 0:n=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,h(n.read())];case 3:return r=o.sent(),e=r.value,r.done?[4,h(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,h(e)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}}))}))}function ft(t){return v(null==t?void 0:t.getReader)}function lt(t){if(t instanceof $)return t;if(null!=t){if(ot(t))return o=t,new $((function(t){var n=o[H]();if(v(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(rt(t))return e=t,new $((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}));if(et(t))return r=t,new $((function(t){r.then((function(n){t.closed||(t.next(n),t.complete())}),(function(n){return t.error(n)})).then(null,P)}));if(it(t))return ht(t);if(ct(t))return n=t,new $((function(t){var r,e;try{for(var o=a(n),i=o.next();!i.done;i=o.next()){var u=i.value;if(t.next(u),t.closed)return}}catch(t){r={error:t}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(r)throw r.error}}t.complete()}));if(ft(t))return ht(at(t))}var n,r,e,o;throw ut(t)}function ht(t){return new $((function(n){(function(t,n){var r,e,o,i;return s(this,void 0,void 0,(function(){var u,s;return c(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=p(t),c.label=1;case 1:return[4,r.next()];case 2:if((e=c.sent()).done)return[3,4];if(u=e.value,n.next(u),n.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),e&&!e.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}}))}))})(t,n).catch((function(t){return n.error(t)}))}))}function dt(t){return t[t.length-1]}function pt(t){return v(dt(t))?t.pop():void 0}function vt(t){return(n=dt(t))&&v(n.schedule)?t.pop():void 0;var n}function yt(t,n){return V((function(r,e){var o=0;r.subscribe(new J(e,(function(r){e.next(t.call(n,r,o++))})))}))}var bt=Array.isArray;function xt(t){return yt((function(n){return function(t,n){return bt(n)?t.apply(void 0,l([],f(n))):t(n)}(t,n)}))}function wt(t,n){return t.reduce((function(t,r,e){return t[r]=n[e],t}),{})}function mt(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=pt(t),e=nt(t),o=e.args,i=e.keys,u=new $((function(t){var n=o.length;if(n)for(var r=new Array(n),e=n,u=n,s=function(n){var s=!1;lt(o[n]).subscribe(new J(t,(function(t){s||(s=!0,u--),r[n]=t}),(function(){return e--}),void 0,(function(){e&&s||(u||t.next(i?wt(i,r):r),t.complete())})))},c=0;c<n;c++)s(c);else t.complete()}));return r?u.pipe(xt(r)):u}function gt(t,n){return V((function(r,e){var o=null,i=0,u=!1,s=function(){return u&&!o&&e.complete()};r.subscribe(new J(e,(function(r){null==o||o.unsubscribe();var u=0,c=i++;lt(t(r,c)).subscribe(o=new J(e,(function(t){return e.next(n?n(r,t,c,u++):t)}),(function(){o=null,s()})))}),(function(){u=!0,s()})))}))}var _t,St=(t,n)=>({x:n*Math.cos(t),y:n*Math.sin(t)}),Et=o("cmoHh"),Pt=o("euRi5"),Tt=o("hDsEw"),kt=o("3J2Zm"),Mt=o("6Px8M"),It=o("lDm0S"),Ot={};function jt(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,(o=e.key,i=void 0,"symbol"==typeof(i=function(t,n){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(o,"string"))?i:String(i)),e)}var o,i}function At(t,n,r){return n&&jt(t.prototype,n),r&&jt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ct(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,Dt(t,n)}function Dt(t,n){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Dt(t,n)}!function(t,n,r){var e,i=256,u="random",s=r.pow(i,6),c=r.pow(2,52),a=2*c,f=i-1;function l(o,f,l){var b=[],x=v(p((f=1==f?{entropy:!0}:f||{}).entropy?[o,y(n)]:null==o?function(){try{var r;return e&&(r=e.randomBytes)?r=r(i):(r=new Uint8Array(i),(t.crypto||t.msCrypto).getRandomValues(r)),y(r)}catch(r){var o=t.navigator,u=o&&o.plugins;return[+new Date,t,u,t.screen,y(n)]}}():o,3),b),w=new h(b),m=function(){for(var t=w.g(6),n=s,r=0;t<c;)t=(t+r)*i,n*=i,r=w.g(1);for(;t>=a;)t/=2,n/=2,r>>>=1;return(t+r)/n};return m.int32=function(){return 0|w.g(4)},m.quick=function(){return w.g(4)/4294967296},m.double=m,v(y(w.S),n),(f.pass||l||function(t,n,e,o){return o&&(o.S&&d(o,w),t.state=function(){return d(w,{})}),e?(r[u]=t,n):t})(m,x,"global"in f?f.global:this==r,f.state)}function h(t){var n,r=t.length,e=this,o=0,u=e.i=e.j=0,s=e.S=[];for(r||(t=[r++]);o<i;)s[o]=o++;for(o=0;o<i;o++)s[o]=s[u=f&u+t[o%r]+(n=s[o])],s[u]=n;(e.g=function(t){for(var n,r=0,o=e.i,u=e.j,s=e.S;t--;)n=s[o=f&o+1],r=r*i+s[f&(s[o]=s[u=f&u+n])+(s[u]=n)];return e.i=o,e.j=u,r})(i)}function d(t,n){return n.i=t.i,n.j=t.j,n.S=t.S.slice(),n}function p(t,n){var r,e=[],o=typeof t;if(n&&"object"==o)for(r in t)try{e.push(p(t[r],n-1))}catch(t){}return e.length?e:"string"==o?t:t+"\0"}function v(t,n){for(var r,e=t+"",o=0;o<e.length;)n[f&o]=f&(r^=19*n[f&o])+e.charCodeAt(o++);return y(n)}function y(t){return String.fromCharCode.apply(0,t)}if(v(r.random(),n),Ot){Ot=l;try{e=o("kjyEk")}catch(t){}}else"function"==typeof define&&define.amd?define((function(){return l})):r["seed"+u]=l}("undefined"!=typeof self?self:Ot,[],Math),Ot.alea=Et,Ot.xor128=Pt,Ot.xorwow=Tt,Ot.xorshift7=kt,Ot.xor4096=Mt,Ot.tychei=It,_t=Ot;var Lt=function(){function t(){}return t.prototype._seed=function(t,n){if(t===(t||0))return t;for(var r=""+t,e=0,o=0;o<r.length;++o)e^=0|r.charCodeAt(o);return e},t}(),qt=function(t){function n(n,r){var e;return(e=t.call(this)||this)._rng=void 0,e.seed(n,r),e}Ct(n,t);var r=n.prototype;return r.next=function(){return this._rng()},r.seed=function(t,n){this._rng=t},r.clone=function(t,r){return new n(this._rng,r)},At(n,[{key:"name",get:function(){return"function"}}]),n}(Lt),zt=function(){var n=[].slice.call(arguments),r=n[0],e=void 0===r?"default":r;switch(typeof e){case"object":if(e instanceof Lt)return e;break;case"function":return new qt(e);default:return new qt(t(_t).apply(void 0,n))}throw new Error('invalid RNG "'+e+'"')},Nt=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=1),function(){return t.next()*(r-n)+n}};function Ht(t){return new Rt(t)}var Rt=function(t){var n=this;this.n=void 0,this.isInt=function(){if(Number.isInteger(n.n))return n;throw new Error("Expected number to be an integer, got "+n.n)},this.isPositive=function(){if(n.n>0)return n;throw new Error("Expected number to be positive, got "+n.n)},this.lessThan=function(t){if(n.n<t)return n;throw new Error("Expected number to be less than "+t+", got "+n.n)},this.greaterThanOrEqual=function(t){if(n.n>=t)return n;throw new Error("Expected number to be greater than or equal to "+t+", got "+n.n)},this.greaterThan=function(t){if(n.n>t)return n;throw new Error("Expected number to be greater than "+t+", got "+n.n)},this.n=t},Ut=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=1),void 0===r&&(r=void 0===n?1:n,n=0),Ht(n).isInt(),Ht(r).isInt(),function(){return Math.floor(t.next()*(r-n+1)+n)}},$t=function(t){return function(){return t.next()>=.5}},Ft=[0,0,.6931471805599453,1.791759469228055,3.1780538303479458,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469],Bt=function(t){return Ft[t]},Yt=function(t){function n(){return t.apply(this,arguments)||this}Ct(n,t);var r=n.prototype;return r.next=function(){return Math.random()},r.seed=function(t,n){},r.clone=function(){return new n},At(n,[{key:"name",get:function(){return"default"}}]),n}(Lt),Xt=new(function(){function t(t){var n=this;this._rng=void 0,this._patch=void 0,this._cache={},this.next=function(){return n._rng.next()},this.float=function(t,r){return n.uniform(t,r)()},this.int=function(t,r){return n.uniformInt(t,r)()},this.integer=function(t,r){return n.uniformInt(t,r)()},this.bool=function(){return n.uniformBoolean()()},this.boolean=function(){return n.uniformBoolean()()},this.uniform=function(t,r){return n._memoize("uniform",Nt,t,r)},this.uniformInt=function(t,r){return n._memoize("uniformInt",Ut,t,r)},this.uniformBoolean=function(){return n._memoize("uniformBoolean",$t)},this.normal=function(t,r){return function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=1),function(){var e,o,i;do{i=(e=2*t.next()-1)*e+(o=2*t.next()-1)*o}while(!i||i>1);return n+r*o*Math.sqrt(-2*Math.log(i)/i)}}(n,t,r)},this.logNormal=function(t,r){return function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=1);var e=t.normal(n,r);return function(){return Math.exp(e())}}(n,t,r)},this.bernoulli=function(t){return function(t,n){return void 0===n&&(n=.5),Ht(n).greaterThanOrEqual(0).lessThan(1),function(){return Math.floor(t.next()+n)}}(n,t)},this.binomial=function(t,r){return function(t,n,r){return void 0===n&&(n=1),void 0===r&&(r=.5),Ht(n).isInt().isPositive(),Ht(r).greaterThanOrEqual(0).lessThan(1),function(){for(var e=0,o=0;e++<n;)t.next()<r&&o++;return o}}(n,t,r)},this.geometric=function(t){return function(t,n){void 0===n&&(n=.5),Ht(n).greaterThan(0).lessThan(1);var r=1/Math.log(1-n);return function(){return Math.floor(1+Math.log(t.next())*r)}}(n,t)},this.poisson=function(t){return function(t,n){if(void 0===n&&(n=1),Ht(n).isPositive(),n<10){var r=Math.exp(-n);return function(){for(var e=r,o=0,i=t.next();i>e;)i-=e,e=n*e/++o;return o}}var e=Math.sqrt(n),o=.931+2.53*e,i=.02483*o-.059,u=1.1239+1.1328/(o-3.4),s=.9277-3.6224/(o-2);return function(){for(;;){var r=void 0,c=t.next();if(c<=.86*s)return r=c/s-.43,Math.floor((2*i/(.5-Math.abs(r))+o)*r+n+.445);c>=s?r=t.next()-.5:(r=((r=c/s-.93)<0?-.5:.5)-r,c=t.next()*s);var a=.5-Math.abs(r);if(!(a<.013&&c>a)){var f=Math.floor((2*i/a+o)*r+n+.445);if(c=c*u/(i/(a*a)+o),f>=10){var l=(f+.5)*Math.log(n/f)-n-.9189385332046727+f-(1/12-(1/360-1/(1260*f*f))/(f*f))/f;if(Math.log(c*e)<=l)return f}else if(f>=0){var h,d=null!=(h=Bt(f))?h:0;if(Math.log(c)<=f*Math.log(n)-n-d)return f}}}}}(n,t)},this.exponential=function(t){return function(t,n){return void 0===n&&(n=1),Ht(n).isPositive(),function(){return-Math.log(1-t.next())/n}}(n,t)},this.irwinHall=function(t){return function(t,n){return void 0===n&&(n=1),Ht(n).isInt().greaterThanOrEqual(0),function(){for(var r=0,e=0;e<n;++e)r+=t.next();return r}}(n,t)},this.bates=function(t){return function(t,n){void 0===n&&(n=1),Ht(n).isInt().isPositive();var r=t.irwinHall(n);return function(){return r()/n}}(n,t)},this.pareto=function(t){return function(t,n){void 0===n&&(n=1),Ht(n).greaterThanOrEqual(0);var r=1/n;return function(){return 1/Math.pow(1-t.next(),r)}}(n,t)},t&&t instanceof Lt?this.use(t):this.use(new Yt),this._cache={}}var n=t.prototype;return n.clone=function(){var n=[].slice.call(arguments);return n.length?new t(zt.apply(void 0,n)):new t(this.rng.clone())},n.use=function(){this._rng=zt.apply(void 0,[].slice.call(arguments))},n.patch=function(){if(this._patch)throw new Error("Math.random already patched");this._patch=Math.random,Math.random=this.uniform()},n.unpatch=function(){this._patch&&(Math.random=this._patch,delete this._patch)},n.choice=function(t){if(!Array.isArray(t))throw new Error("Random.choice expected input to be an array, got "+typeof t);var n=null==t?void 0:t.length;return n>0?t[this.uniformInt(0,n-1)()]:void 0},n._memoize=function(t,n){var r=[].slice.call(arguments,2),e=""+r.join(";"),o=this._cache[t];return void 0!==o&&o.key===e||(o={key:e,distribution:n.apply(void 0,[this].concat(r))},this._cache[t]=o),o.distribution},At(t,[{key:"rng",get:function(){return this._rng}}]),t}());var Gt=(t,n)=>({x:t.x+n.x,y:t.y+n.y});var Vt=(t,n,r,e,o)=>{const i=r/e,{points:u}=Array.from({length:e-1}).reduce(((e,u,s)=>{const c=Xt.float(i*s,i*(s+1)),a=((t,n,r,e)=>{const o=e/r;return{x:t.x+(n.x-t.x)*o,y:t.y+(n.y-t.y)*o}})(t,n,r,c),f=-1*Math.abs(o),l={x:Xt.float(-1*f,f),y:Xt.float(-1*f,f)};return{points:[...e.points,Gt(a,l)],prevPoint:a}}),{points:[],prevPoint:t});return[t,...u,n]};var Jt=(t,n)=>{const r=(n.x-t.x)**2,e=(n.y-t.y)**2;return Math.sqrt(r+e)};var Wt=({x:t,y:n})=>t>0&&n>=0?Math.atan(n/t):t>0&&n<0?Math.atan(n/t)+2*Math.PI:t<0?Math.atan(n/t)+Math.PI:0===t&&n>0?Math.PI/2:0===t&&n<0?3*Math.PI/2:0;var Zt=(t,n)=>({TOP:{start:{x:0,y:0},end:{x:t,y:0}},RIGHT:{start:{x:t,y:0},end:{x:t,y:n}},BOTTOM:{start:{x:0,y:n},end:{x:t,y:n}},LEFT:{start:{x:0,y:0},end:{x:0,y:n}}});const Kt=({start:t,end:n},r)=>({x:t.x===n.x?t.x:Xt.float(t.x+r.x,n.x-r.x),y:t.y===n.y?t.y:Xt.float(t.y+r.y,n.y-r.y)});var Qt=({TOP:t,RIGHT:n,BOTTOM:r,LEFT:e},o)=>{const i=Xt.choice([t,n,r,e]);let u=Xt.choice([t,n,r,e]);for(;i===u;)u=Xt.choice([t,n,r,e]);return{start:Kt(i,o),end:Kt(u,o)}};function tn(t){return"function"==typeof t}const nn=function(t){const n=t((t=>{Error.call(t),t.stack=(new Error).stack}));return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}((t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map(((t,n)=>`${n+1}) ${t.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n}));function rn(t,n){if(t){const r=t.indexOf(n);0<=r&&t.splice(r,1)}}class en{static EMPTY=(()=>{const t=new en;return t.closed=!0,t})();constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const t of n)t.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(tn(r))try{r()}catch(n){t=n instanceof nn?n.errors:[n]}const{_teardowns:e}=this;if(e){this._teardowns=null;for(const n of e)try{un(n)}catch(n){t=t??[],n instanceof nn?t=[...t,...n.errors]:t.push(n)}}if(t)throw new nn(t)}}add(t){if(t&&t!==this)if(this.closed)un(t);else{if(t instanceof en){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=this._teardowns??[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&rn(n,t)}remove(t){const{_teardowns:n}=this;n&&rn(n,t),t instanceof en&&t._removeParent(this)}}en.EMPTY;function on(t){return t instanceof en||t&&"closed"in t&&tn(t.remove)&&tn(t.add)&&tn(t.unsubscribe)}function un(t){tn(t)?t():t.unsubscribe()}const sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},cn={setTimeout(...t){const{delegate:n}=cn;return(n?.setTimeout||setTimeout)(...t)},clearTimeout(t){const{delegate:n}=cn;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function an(t){cn.setTimeout((()=>{const{onUnhandledError:n}=sn;if(!n)throw t;n(t)}))}function fn(){}const ln=dn("C",void 0,void 0);function hn(t){return dn("N",t,void 0)}function dn(t,n,r){return{kind:t,value:n,error:r}}let pn=null;function vn(t){if(sn.useDeprecatedSynchronousErrorHandling){const n=!pn;if(n&&(pn={errorThrown:!1,error:null}),t(),n){const{errorThrown:t,error:n}=pn;if(pn=null,t)throw n}}else t()}function yn(t){sn.useDeprecatedSynchronousErrorHandling&&pn&&(pn.errorThrown=!0,pn.error=t)}class bn extends en{static create(t,n,r){return new xn(t,n,r)}isStopped=!1;constructor(t){super(),t?(this.destination=t,on(t)&&t.add(this)):this.destination=_n}next(t){this.isStopped?gn(hn(t),this):this._next(t)}error(t){this.isStopped?gn(dn("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?gn(ln,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class xn extends bn{constructor(t,n,r){let e;if(super(),tn(t))e=t;else if(t){let o;({next:e,error:n,complete:r}=t),this&&sn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe()):o=t,e=e?.bind(o),n=n?.bind(o),r=r?.bind(o)}this.destination={next:e?wn(e,this):fn,error:wn(n??mn,this),complete:r?wn(r,this):fn}}}function wn(t,n){return(...n)=>{try{t(...n)}catch(t){sn.useDeprecatedSynchronousErrorHandling?yn(t):an(t)}}}function mn(t){throw t}function gn(t,n){const{onStoppedNotification:r}=sn;r&&cn.setTimeout((()=>r(t,n)))}const _n={closed:!0,next:fn,error:mn,complete:fn},Sn="function"==typeof Symbol&&Symbol.observable||"@@observable";function En(t){return t}function Pn(t){return 0===t.length?En:1===t.length?t[0]:function(n){return t.reduce(((t,n)=>n(t)),n)}}class Tn{constructor(t){t&&(this._subscribe=t)}static create=t=>new Tn(t);lift(t){const n=new Tn;return n.source=this,n.operator=t,n}subscribe(t,n,r){const e=(o=t)&&o instanceof bn||function(t){return t&&tn(t.next)&&tn(t.error)&&tn(t.complete)}(o)&&on(o)?t:new xn(t,n,r);var o;return vn((()=>{const{operator:t,source:n}=this;e.add(t?t.call(e,n):n?this._subscribe(e):this._trySubscribe(e))})),e}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=kn(n))(((n,r)=>{let e;e=this.subscribe((n=>{try{t(n)}catch(t){r(t),e?.unsubscribe()}}),r,n)}))}_subscribe(t){return this.source?.subscribe(t)}[Sn](){return this}pipe(...t){return Pn(t)(this)}toPromise(t){return new(t=kn(t))(((t,n)=>{let r;this.subscribe((t=>r=t),(t=>n(t)),(()=>t(r)))}))}}function kn(t){return t??sn.Promise??Promise}"function"==typeof Symbol&&Symbol.iterator&&Symbol.iterator;function Mn(t){return new Tn((n=>{t.then((t=>{n.closed||(n.next(t),n.complete())}),(t=>n.error(t))).then(null,an)}))}function In(t,n,r,e,o){void 0===e&&(e=0),void 0===o&&(o=!1);var i=n.schedule((function(){r(),o?t.add(this.schedule(null,e)):this.unsubscribe()}),e);if(t.add(i),!o)return i}function On(t,n){return void 0===n&&(n=0),V((function(r,e){r.subscribe(new J(e,(function(r){return In(e,t,(function(){return e.next(r)}),n)}),(function(){return In(e,t,(function(){return e.complete()}),n)}),(function(r){return In(e,t,(function(){return e.error(r)}),n)})))}))}function jn(t,n){return void 0===n&&(n=0),V((function(r,e){e.add(t.schedule((function(){return r.subscribe(e)}),n))}))}function An(t,n){return lt(t).pipe(jn(n),On(n))}function Cn(t,n){return lt(t).pipe(jn(n),On(n))}function Dn(t,n){return new $((function(r){var e=0;return n.schedule((function(){e===t.length?r.complete():(r.next(t[e++]),r.closed||this.schedule())}))}))}function Ln(t,n){return new $((function(r){var e;return In(r,n,(function(){e=t[st](),In(r,n,(function(){var t,n,o;try{n=(t=e.next()).value,o=t.done}catch(t){return void r.error(t)}o?r.complete():r.next(n)}),0,!0)})),function(){return v(null==e?void 0:e.return)&&e.return()}}))}function qn(t,n){if(!t)throw new Error("Iterable cannot be null");return new $((function(r){In(r,n,(function(){var e=t[Symbol.asyncIterator]();In(r,n,(function(){e.next().then((function(t){t.done?r.complete():r.next(t.value)}))}),0,!0)}))}))}function zn(t,n){return qn(at(t),n)}function Nn(t,n){if(null!=t){if(ot(t))return An(t,n);if(rt(t))return Dn(t,n);if(et(t))return Cn(t,n);if(it(t))return qn(t,n);if(ct(t))return Ln(t,n);if(ft(t))return zn(t,n)}throw ut(t)}function Hn(t,n){return n?Nn(t,n):lt(t)}function Rn(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Hn(t,vt(t))}const Un=window.innerWidth+600,$n=window.innerHeight+600,Fn=new class{get ctx(){return this._ctx}get canvas(){return this._canvas}constructor(t,n,r){this._canvas=t,this.width=n,this.height=r,this._canvas.width=n,this._canvas.height=r,this._ctx=this._canvas.getContext("2d")}reset(){return Mn(Promise.resolve().then((()=>{this.ctx.reset()})))}drawImage(t,n){return Mn(Promise.resolve().then((()=>{this.ctx.drawImage(t,n.x,n.y,this.canvas.width,this.canvas.height)})))}drawFigure({left:t,right:n},r,e){return Mn(Promise.resolve().then((()=>{this.ctx.lineWidth=4,this.ctx.strokeStyle=r,this.ctx.fillStyle=e,this.ctx.beginPath(),[...t,...n].forEach((({x:t,y:n})=>this.ctx.lineTo(t,n))),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()}))).pipe(yt((()=>this.canvas.toDataURL())))}clear(){return Mn(Promise.resolve().then((()=>{this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)})))}toDataUrl(){return Rn(this.canvas.toDataURL())}fill(t){this.ctx.fillStyle=t,this.ctx.beginPath(),this.ctx.rect(0,0,this.canvas.width,this.canvas.height),this.ctx.closePath(),this.ctx.fill()}}(document.createElement("canvas"),Un,$n),Bn=document.createElement("img");document.body.append(Fn.canvas);const Yn=new class{get tick$(){return this._tick$.asObservable()}constructor(t,n,r,e,o,i=100,u=7,s="black",c="white"){this.canvas=t,this.prevCanvasImg=n,this.width=r,this.height=e,this.offset=o,this.lineLifeTicks=i,this.speed=u,this.backgroundColor=s,this.lineColor=c,this._tick$=new G(0),this.sides=Zt(this.width,this.height),this.setup()}dispatch(){this._tick$.next(this._tick$.value+1)}setup(){var t,n,r,e;this.canvas.fill(this.backgroundColor),this.tick$.pipe(W((t=>t%this.lineLifeTicks==0)),gt((()=>this.canvas.toDataUrl())),(t=t=>{this.prevCanvasImg.src=t},e=v(t)||n||r?{next:t,error:n,complete:r}:t,e?V((function(t,n){var r;null===(r=e.subscribe)||void 0===r||r.call(e);var o=!0;t.subscribe(new J(n,(function(t){var r;null===(r=e.next)||void 0===r||r.call(e,t),n.next(t)}),(function(){var t;o=!1,null===(t=e.complete)||void 0===t||t.call(e),n.complete()}),(function(t){var r;o=!1,null===(r=e.error)||void 0===r||r.call(e,t),n.error(t)}),(function(){var t,n;o&&(null===(t=e.unsubscribe)||void 0===t||t.call(e)),null===(n=e.finalize)||void 0===n||n.call(e)})))})):R)).subscribe((()=>{this.currentLine=Qt(this.sides,this.offset);const t=Jt(this.currentLine.start,this.currentLine.end);this.tornLine=Vt(this.currentLine.start,this.currentLine.end,t,parseInt(""+t/5,10),Math.PI)})),this.tick$.pipe(W((t=>t%this.lineLifeTicks!=0)),yt((t=>t%this.lineLifeTicks)),yt((t=>{const n={x:this.currentLine.end.x-this.currentLine.start.x,y:this.currentLine.end.y-this.currentLine.start.y},r=Wt(n);return{left:St(r+Math.PI/2,t/this.speed),right:St(r-Math.PI/2,t/this.speed)}})),yt((({left:t,right:n})=>({left:this.tornLine.map((n=>Gt(n,t))),right:this.tornLine.reverse().map((t=>Gt(t,n)))}))),gt((t=>mt([this.canvas.drawImage(this.prevCanvasImg,{x:0,y:0}),this.canvas.drawFigure(t,this.lineColor,this.backgroundColor)])))).subscribe()}}(Fn,Bn,Un,$n,{x:600,y:600});!function t(){Yn.dispatch(),requestAnimationFrame(t)}();
//# sourceMappingURL=index.9bad6039.js.map
